import{d as E,l as b,g as i,c as C,a as w,b as s,m as f,h as V,w as n,F as N,e as k,n as T,f as u,o as m,_ as x}from"./index-DQyjVy_9.js";import{S as B}from"./StyledButton-Ca-dajib.js";import{S as o}from"./StyledInputByType-B8rUkjvG.js";import{E as c}from"./ErrorMessage-1fHg2YjS.js";import{S}from"./SuccessMessage-CYf43DEp.js";const P="primary",R=E({__name:"RegisterView",setup($){const y="https://syntra-20242025-henk-api.onrender.com/api",g=k(),r=b({username:"",email:"",password:"",firstName:"",lastName:"",defaultLanguage:"en"}),d=i(""),l=i(),p=i(),v=async t=>{var e;try{return(await T.post(`${y}/auth/register`,t)).data.message}catch(a){throw((e=a.response)==null?void 0:e.status)===400?(console.error("Error in registerUser (API call) "+a),p.value=!0,new Error(`Error: ${a}`)):new Error(`Error: ${a}`)}},U=async()=>{if(l.value=void 0,p.value=void 0,r.password!==d.value)l.value=!1;else try{await v(r),l.value=!0,setTimeout(()=>{g.push({name:"login"})},3e3)}catch(t){console.error("Error in createUser. "+t)}};return(t,e)=>(m(),C(N,null,[e[11]||(e[11]=w("h2",null,"Create account",-1)),w("form",null,[s(o,{modelValue:r.username,"onUpdate:modelValue":e[0]||(e[0]=a=>r.username=a),label:"Username:",placeholder:"Choose an username"},null,8,["modelValue"]),s(o,{modelValue:r.email,"onUpdate:modelValue":e[1]||(e[1]=a=>r.email=a),label:"Email:",placeholder:"Enter email",inputType:"email"},null,8,["modelValue"]),s(o,{modelValue:r.password,"onUpdate:modelValue":e[2]||(e[2]=a=>r.password=a),label:"Password:",placeholder:"Choose a password",inputType:"password",autocomplete:"off"},null,8,["modelValue"]),s(o,{modelValue:d.value,"onUpdate:modelValue":e[3]||(e[3]=a=>d.value=a),label:"Confirm password:",placeholder:"Confirm password",inputType:"password",autocomplete:"off"},null,8,["modelValue"]),s(o,{modelValue:r.firstName,"onUpdate:modelValue":e[4]||(e[4]=a=>r.firstName=a),label:"First name:",placeholder:"Your first name"},null,8,["modelValue"]),s(o,{modelValue:r.lastName,"onUpdate:modelValue":e[5]||(e[5]=a=>r.lastName=a),label:"Last name:",placeholder:"Your last name"},null,8,["modelValue"])]),s(B,{type:P,onClick:e[6]||(e[6]=a=>U())},{default:n(()=>e[7]||(e[7]=[u("Create account")])),_:1}),l.value?(m(),f(S,{key:0,class:"succes-message"},{default:n(()=>e[8]||(e[8]=[u("User succesfull created")])),_:1})):V("",!0),p.value?(m(),f(c,{key:1},{default:n(()=>e[9]||(e[9]=[u("Username or emailadres already registered.")])),_:1})):V("",!0),l.value===!1?(m(),f(c,{key:2},{default:n(()=>e[10]||(e[10]=[u("Passwords do not match")])),_:1})):V("",!0)],64))}}),D=x(R,[["__scopeId","data-v-0a064659"]]);export{D as default};
