import{n as k,d as V,k as C,g as y,I as F,c as u,b as v,a as t,w as _,h as f,i as W,J as s,f as p,F as w,K as B,o as c,_ as E}from"./index-BZmOjIu1.js";import{S as M}from"./StyledButton-CceZmSIf.js";import{S as b}from"./StyledInputByType-DQ-mTtEt.js";import{M as L}from"./ModuleTitleContainer-C1wYnRdI.js";import{E as T}from"./ErrorMessage-7kxkp75I.js";const S="59f5d73944c323b9071de991b104300b",x="https://api.openweathermap.org/data/2.5/",$=async m=>{try{return(await k.get(`${x}weather`,{params:{q:m,units:"metric",appid:S}})).data}catch(o){throw console.error("Error fetching weather data",o),o}},K=async m=>{try{return(await k.get(`${x}forecast`,{params:{q:m,units:"metric",appid:S}})).data.list.filter(l=>l.dt_txt.includes("12:00:00")).slice(0,4)}catch(o){return console.error("Error fetching forecast data",o),[]}},N={id:"app"},U={class:"search"},A={key:0,class:"weather"},H={class:"description"},I={class:"temperature"},q={key:1,class:"forecast-border"},P={key:2,class:"forecast"},J={class:"description"},j={class:"temperature"},z={key:3},G=V({__name:"WeatherView",setup(m){const{getUserParam:o}=C(),i=y("");F(async()=>{const n=await o();n!=null&&n.city&&(i.value=n.city,h())});const r=y(null),l=y([]),d=y(null),h=async()=>{var n,e;if(!i.value){d.value="Please enter a city name.",r.value=null,l.value=[];return}d.value=null;try{r.value=await $(i.value);const a=await K(i.value);l.value=Array.isArray(a)?a:[]}catch(a){((e=(n=a.response)==null?void 0:n.data)==null?void 0:e.message)==="city not found"?d.value="City was not found":d.value="An unexpected error occurred",r.value=null,l.value=[]}};function D(n){const e=new Date(n);return`${e.toLocaleDateString("en-Latn-US",{weekday:"short"})} ${e.getDate()}/${(e.getMonth()+1)%12}`}return(n,e)=>(c(),u(w,null,[v(L,null,{default:_(()=>e[1]||(e[1]=[p("Weatherman Henk")])),_:1}),t("div",N,[t("div",U,[v(b,{modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=a=>i.value=a),type:"text",placeholder:"Enter city name",onKeyup:W(h,["enter"])},null,8,["modelValue"]),v(M,{type:"primary",onClick:h},{default:_(()=>e[2]||(e[2]=[p("Search")])),_:1})]),r.value?(c(),u("div",A,[t("h2",null,s(r.value.name)+", "+s(r.value.sys.country),1),t("p",H,s(r.value.weather[0].description),1),t("p",I,[e[3]||(e[3]=p("Temperature: ")),t("strong",null,s(r.value.main.temp)+"°C",1)]),t("p",null,"Humidity: "+s(r.value.main.humidity)+"%",1),t("p",null,"Wind Speed: "+s(r.value.wind.speed)+"m/s",1)])):f("",!0),l.value.length>0?(c(),u("div",q)):f("",!0),l.value.length>0?(c(),u("div",P,[e[5]||(e[5]=t("h3",null,"Future 4 days",-1)),(c(!0),u(w,null,B(l.value,(a,g)=>(c(),u("div",{class:"forecast-item",key:g},[t("p",null,[t("strong",null,s(D(a.dt_txt)),1)]),t("p",J,s(a.weather[0].description),1),t("p",j,[e[4]||(e[4]=p("Temperature: ")),t("strong",null,s(a.main.temp)+"°C",1)]),t("p",null,"Humidity: "+s(a.main.humidity)+"%",1),t("p",null,"Wind Speed: "+s(a.wind.speed)+"m/s",1)]))),128))])):f("",!0),d.value?(c(),u("div",z,[v(T,null,{default:_(()=>[p(s(d.value),1)]),_:1})])):f("",!0)])],64))}}),Z=E(G,[["__scopeId","data-v-76238209"]]);export{Z as default};
