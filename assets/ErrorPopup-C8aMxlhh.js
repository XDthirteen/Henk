import{n as p,j as k,d as E,m as b,w as m,b as h,a as _,c as f,h as g,J as y,f as D,o as l,_ as S}from"./index-BZmOjIu1.js";import{P as v}from"./PopUpComponent-D7kd4DBd.js";import{S as w}from"./StyledButton-CceZmSIf.js";import{E as C}from"./ErrorMessage-7kxkp75I.js";const x="https://syntra-20242025-henk-api.onrender.com/api",{getAuthToken:A}=k(),I=s=>{if(typeof s!="object"||s===null)return!1;const e={...s};return!(!("error"in e)||!("status"in e)||!("message"in e)||e.error!==!0||typeof e.status!="number"&&e.status!==null||typeof e.message!="string"||(delete e.error,delete e.status,delete e.message,Object.keys(e).length>0))},d=s=>{var e;if(p.isAxiosError(s)){const{response:u,request:c,message:o}=s;if(!u)return c?{error:!0,status:null,message:"Network error or no response from the server."}:{error:!0,status:null,message:`Request failed: ${o}`};const t=u.status;switch(t){case 400:return{error:!0,status:t,message:"Bad request."};case 401:return{error:!0,status:t,message:"Unauthorized. Token may be missing or expired."};case 403:return{error:!0,status:t,message:"Forbidden. You don't have permission to perform this action."};case 404:return{error:!0,status:t,message:"Not found. The requested item could not be found."};case 422:return{error:!0,status:t,message:`Validation error: ${JSON.stringify(((e=u.data)==null?void 0:e.errors)||u.data)}`};case 500:return{error:!0,status:t,message:"Internal server error. Try again later."};default:return{error:!0,status:t,message:`Unexpected error. Status: ${t}`}}}return{error:!0,status:null,message:`An unexpected error occurred: ${s}`}},J=()=>{const s=()=>({headers:{Authorization:`Bearer ${A()}`,Accept:"application/json"}}),e=(r,a)=>r.startsWith(`${x}`)?s():a||{};return{getData:async(r,a)=>{try{return(await p.get(r,e(r,a))).data}catch(n){return d(n)}},postData:async(r,a,n)=>{try{return(await p.post(r,a??void 0,e(r,n))).data}catch(i){return d(i)}},putData:async(r,a,n)=>{try{return(await p.put(r,a??void 0,e(r,n))).data}catch(i){return d(i)}},deleteData:async(r,a)=>{try{return(await p.delete(r,e(r,a))).data}catch(n){return d(n)}}}},B={class:"popup"},N={key:0},$={key:1},T={key:2},V={class:"btn-container"},j=E({__name:"ErrorPopup",props:{errorExplanation:{},errorStatus:{},errorMessage:{}},emits:["close"],setup(s,{emit:e}){const u=e;function c(){u("close")}return(o,t)=>(l(),b(v,{onClose:c},{default:m(()=>[h(C,null,{default:m(()=>[_("div",B,[o.errorExplanation?(l(),f("p",N,y(o.errorExplanation),1)):g("",!0),o.errorStatus!==null?(l(),f("p",$,"Status: "+y(o.errorStatus),1)):g("",!0),o.errorMessage?(l(),f("p",T,"Error: "+y(o.errorMessage),1)):g("",!0),_("div",V,[h(w,{onClick:c,type:"primary"},{default:m(()=>t[0]||(t[0]=[D("ok")])),_:1})])])]),_:1})]),_:1}))}}),O=S(j,[["__scopeId","data-v-f9e9bc93"]]);export{O as E,J as a,I as i};
